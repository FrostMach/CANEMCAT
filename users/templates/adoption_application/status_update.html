{% extends 'base.html' %}

{% block content %}
  <div class="container mt-5">
    <h2>Actualizar estado de solicitud</h2>
    <p><strong>Solicitud de adopción para:</strong> {{ application.animal.name }} - {{ application.user.full_name }}</p>
    
    <form method="post">
      {% csrf_token %}
      
      <!-- Campo para seleccionar el estado de la solicitud -->
      <div class="mb-3 row">
        <label for="id_status" class="col-sm-2 col-form-label">Estado</label>
        <div class="col-sm-10">
          <select name="status" class="form-select" id="id_status">
            <option value="P" {% if application.status == 'P' %}selected{% endif %}>Pendiente</option>
            <option value="A" {% if application.status == 'A' %}selected{% endif %}>Aprobada</option>
            <option value="D" {% if application.status == 'D' %}selected{% endif %}>Denegada</option>
          </select>
        </div>
      </div>

      <!-- Botón para actualizar el estado -->
      <div class="mb-3 row">
        <div class="col-sm-10 offset-sm-2">
          <button type="submit" class="btn btn-primary">Actualizar estado</button>
        </div>
      </div>
    </form>

    <a href="{% url 'solicitud_adopcion_confirm' %}" class="btn btn-secondary mt-3">Volver a la lista de solicitudes</a>
  </div>
{% endblock %}